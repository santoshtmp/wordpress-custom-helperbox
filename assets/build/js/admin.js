jQuery(e=>{if(helperboxAjax&&"settings_page_helperbox"==helperboxAjax.hook){let i;e(document).on("click",".helperbox-add-bg-images",function(o){o.preventDefault(),i||(i=wp.media({title:"Select Background Images",button:{text:"Use these images"},multiple:!0,library:{type:"image"}}),i.on("select",()=>{const o=i.state().get("selection").toJSON(),t=e("#helperbox_adminlogin_bgimages"),l=t.val(),a=l?l.split(",").map(Number).filter(Boolean):[],r=o.map(e=>e.id),s=[...new Set(a.concat(r))];t.val(s.join(","));const p=e(".helperbox-bg-images-preview");p.empty(),o.forEach(i=>{const o=i.sizes&&i.sizes.medium?i.sizes.medium.url:i.url,t=e("<img>",{src:o,style:"margin:5px; max-height:150px; max-width:150px; border:1px solid #ccc; border-radius:4px;"});p.append(t)}),e(".helperbox-remove-all-bg-images").show()})),i.open()}),e(".helperbox-remove-all-bg-images").on("click",function(i){i.preventDefault(),e("#helperbox_adminlogin_bgimages").val(""),e(".helperbox-bg-images-preview").empty(),e(this).hide()})}});