!function(){"use strict";var e=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.blocks,l=window.wp.components,n=window.wp.serverSideRender,r=window.wp.element;window.jQuery;const o="helperbox/cover";(0,a.registerBlockType)(o,{edit:function({attributes:a,setAttributes:c}){const{heading:i,text:d,paragraphText:s,minHeight:p,bgImage:m,defaultBg:u,ctas:g=[]}=a,b=m?.sizes?.large?.url||m?.sizes?.medium?.url||m?.url,x=(0,t.useBlockProps)({className:"helperbox-cover-editor"}),h=(e,t,a)=>{const l=[...g];l[e]={...l[e],[t]:a},c({ctas:l})},R=(e,t)=>{if(t<0||t>=g.length)return;const a=[...g],l=a[e];a[e]=a[t],a[t]=l,c({ctas:a})};return(0,r.useEffect)(()=>{const e=g.filter(e=>e.text&&e.url);e.length!==g.length&&c({ctas:e})},[]),React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(l.PanelBody,{title:(0,e.__)("Cover Settings","helperbox"),initialOpen:!0},React.createElement("div",{className:"helperbox-edit-media-field-group-control",style:{marginBottom:"12px"}},b&&React.createElement("div",{className:"helperbox-edit-media-preview"},React.createElement("img",{src:b,alt:"",style:{width:"100px",height:"auto",objectFit:"cover",borderRadius:"4px"}})),React.createElement(t.MediaUploadCheck,null,React.createElement(t.MediaUpload,{onSelect:e=>c({bgImage:e}),allowedTypes:["image"],value:m?.id,render:({open:e})=>React.createElement(l.Button,{onClick:e,variant:"secondary"},m?"Replace Background Image":"Upload Background Image")})),m&&React.createElement(l.Button,{onClick:()=>c({bgImage:null}),variant:"secondary",isDestructive:!0},"Remove image"),!m&&React.createElement(l.ToggleControl,{label:(0,e.__)("Use default background","helperbox"),checked:u,onChange:e=>c({defaultBg:e})})),React.createElement(l.RangeControl,{label:(0,e.__)("Min Height","helperbox"),value:p,min:300,max:900,onChange:e=>c({minHeight:e})}),React.createElement(l.TextControl,{label:(0,e.__)("Heading","helperbox"),value:i,onChange:e=>c({heading:e})}),React.createElement(l.TextareaControl,{label:(0,e.__)("Text","helperbox"),value:d,onChange:e=>c({text:e})}),React.createElement("div",{title:(0,e.__)("CTA Buttons","helperbox")},g.map((t,a)=>React.createElement("div",{key:a,style:{border:"1px solid #ddd",padding:"12px",marginBottom:"12px",borderRadius:"4px"}},React.createElement(l.TextControl,{label:(0,e.__)("Button Text","helperbox"),value:t.text,help:t.text?"":(0,e.__)("Button Text is required","helperbox"),__experimentalShowError:!t.text,onChange:e=>h(a,"text",e)}),React.createElement(l.TextControl,{label:(0,e.__)("Button Link","helperbox"),value:t.url,onChange:e=>h(a,"url",e)}),React.createElement(l.SelectControl,{label:(0,e.__)("Button Variant","helperbox"),value:t.variant,options:[{label:(0,e.__)("Primary","helperbox"),value:"primary"},{label:(0,e.__)("Secondary","helperbox"),value:"secondary"},{label:(0,e.__)("Outline","helperbox"),value:"outline"}],onChange:e=>h(a,"variant",e)}),React.createElement(l.ToggleControl,{label:(0,e.__)("Open in new tab","helperbox"),checked:t.newTab,onChange:e=>h(a,"newTab",e)}),React.createElement("div",{style:{display:"flex",gap:"8px",marginTop:"8px"}},React.createElement(l.Button,{variant:"secondary",onClick:()=>R(a,a-1),disabled:0===a},"↑"),React.createElement(l.Button,{variant:"secondary",onClick:()=>R(a,a+1),disabled:a===g.length-1},"↓"),React.createElement(l.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{const t=g.filter((t,a)=>a!==e);c({ctas:t})})(a)},(0,e.__)("Remove","helperbox"))))),React.createElement(l.Button,{variant:"primary",onClick:()=>{c({ctas:[...g,{text:"",url:"",variant:"primary",newTab:!1}]})}},(0,e.__)("Add CTA Button","helperbox"))))),React.createElement("div",x,React.createElement(n,{block:o,attributes:a,LoadingResponsePlaceholder:()=>React.createElement("div",{style:{padding:"20px",textAlign:"center"}},React.createElement(l.Spinner,null))})))}})}();